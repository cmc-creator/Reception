<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destiny Springs Reception Hub 2026</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { background-color: #020617; margin: 0; padding: 0; color: #f8fafc; font-family: ui-sans-serif, system-ui, sans-serif; overflow: hidden; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
        
        .drag-over { border: 4px dashed #3b82f6 !important; background-color: rgba(59, 130, 246, 0.25) !important; transform: scale(1.02); transition: all 0.2s ease; }
        .draggable-item:hover { cursor: grab; filter: brightness(1.2); transform: scale(1.02); }
        .draggable-item:active { cursor: grabbing; }
        
        .weekend-bg { background-color: rgba(30, 41, 59, 0.4); }

        @media print {
            .no-print { display: none !important; }
            body { background-color: white !important; color: black !important; overflow: visible !important; }
            .calendar-grid { border: 1px solid #ccc !important; }
            .flex-1 { overflow: visible !important; }
        }
    </style>

    <script type="module">
        import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, doc, onSnapshot, setDoc, addDoc, updateDoc, deleteDoc, writeBatch } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCYraZ_M0NknCg6lgdncSpucHfgPOMqBi8",
            authDomain: "reception-calendar-1.firebaseapp.com",
            projectId: "reception-calendar-1",
            storageBucket: "reception-calendar-1.firebasestorage.app",
            messagingSenderId: "613158953901",
            appId: "1:613158953901:web:ed3f0a6cc4cb23f65df724",
            measurementId: "G-5PZMYFEPYW"
        };

        const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = 'destiny-springs-hub';

        const HOLIDAYS_2026 = {
            "2026-01-01": "New Year's Day", "2026-01-19": "MLK Jr. Day", "2026-02-16": "Presidents' Day",
            "2026-05-25": "Memorial Day", "2026-06-19": "Juneteenth", "2026-07-04": "Independence Day",
            "2026-09-07": "Labor Day", "2026-11-11": "Veterans Day", "2026-11-26": "Thanksgiving", "2026-12-25": "Christmas Day"
        };

        const PRESET_COLORS = [
            { bg: 'bg-rose-500', hex: '#f43f5e' }, { bg: 'bg-cyan-500', hex: '#06b6d4' },
            { bg: 'bg-orange-500', hex: '#f97316' }, { bg: 'bg-violet-500', hex: '#8b5cf6' },
            { bg: 'bg-lime-500', hex: '#84cc16' }, { bg: 'bg-indigo-500', hex: '#6366f1' },
            { bg: 'bg-amber-500', hex: '#f59e0b' }, { bg: 'bg-emerald-500', hex: '#10b981' }
        ];

        const INITIAL_REPORT = {
            mail: '', property: '', keysBadges: '', supplies: '', visitations: '',
            discharges: '', itConcerns: '', aoc: '', maintenance: '', caseManager: '',
            visitorBook: '', otherConcerns: ''
        };

        function App() {
            const [user, setUser] = React.useState(null);
            const [currentDate, setCurrentDate] = React.useState(new Date(2026, 1, 1));
            const [activeTab, setActiveTab] = React.useState('calendar');
            const [selectedDate, setSelectedDate] = React.useState(null);
            
            // "Iron-Clad" Memory: Load local first so it never appears empty
            const [events, setEvents] = React.useState(() => JSON.parse(localStorage.getItem('ds_hub_events')) || {});
            const [staff, setStaff] = React.useState(() => JSON.parse(localStorage.getItem('ds_hub_staff')) || {});
            const [dayNotes, setDayNotes] = React.useState(() => JSON.parse(localStorage.getItem('ds_hub_day_notes')) || {});
            const [currentReport, setCurrentReport] = React.useState(() => JSON.parse(localStorage.getItem('ds_hub_report')) || INITIAL_REPORT);

            const [isStaffModalOpen, setIsStaffModalOpen] = React.useState(false);
            const [editingShift, setEditingShift] = React.useState(null);
            const [newStaff, setNewStaff] = React.useState({ name: '', color: PRESET_COLORS[0].bg });
            const [isDarkMode, setIsDarkMode] = React.useState(true);
            const [isSaving, setIsSaving] = React.useState(false);

            // Immediate Local Mirroring
            React.useEffect(() => {
                localStorage.setItem('ds_hub_events', JSON.stringify(events));
                localStorage.setItem('ds_hub_staff', JSON.stringify(staff));
                localStorage.setItem('ds_hub_day_notes', JSON.stringify(dayNotes));
                localStorage.setItem('ds_hub_report', JSON.stringify(currentReport));
            }, [events, staff, dayNotes, currentReport]);

            React.useEffect(() => {
                signInAnonymously(auth);
                return onAuthStateChanged(auth, setUser);
            }, []);

            // Real-time Cloud Sync
            React.useEffect(() => {
                if (!user) return;
                const unsubShifts = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'), (snap) => {
                    const data = {};
                    snap.forEach(d => {
                        const s = d.data();
                        if (!data[s.date]) data[s.date] = [];
                        data[s.date].push({ ...s, id: d.id });
                    });
                    setEvents(data);
                });
                const unsubStaff = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'staff'), (snap) => {
                    const list = {};
                    snap.forEach(d => { list[d.id] = { ...d.data(), id: d.id }; });
                    setStaff(list);
                });
                const unsubDayNotes = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'dayNotes'), (snap) => {
                    const notes = {};
                    snap.forEach(d => { notes[d.id] = d.data().text; });
                    setDayNotes(notes);
                });
                const unsubReport = onSnapshot(doc(db, 'artifacts', appId, 'public', 'data', 'currentReport', 'current'), (snap) => {
                    if (snap.exists()) setCurrentReport(snap.data());
                });
                return () => { unsubShifts(); unsubStaff(); unsubDayNotes(); unsubReport(); };
            }, [user]);

            // Recovery Tool: Auto-Populate from Screenshot
            const restoreFebSchedule = async () => {
                if (!user) return;
                setIsSaving(true);
                const batch = writeBatch(db);
                
                // 1. Create Team if missing
                const team = [
                    { name: 'Karen', color: 'bg-cyan-500' },
                    { name: 'Izzy', color: 'bg-orange-500' },
                    { name: 'Annalissia', color: 'bg-violet-500' },
                    { name: 'Hal', color: 'bg-rose-500' }
                ];

                const teamIds = {};
                for (const member of team) {
                    const existing = Object.values(staff).find(s => s.name === member.name);
                    if (existing) {
                        teamIds[member.name] = existing.id;
                    } else {
                        const newRef = doc(collection(db, 'artifacts', appId, 'public', 'data', 'staff'));
                        batch.set(newRef, { ...member, createdAt: Date.now() });
                        teamIds[member.name] = newRef.id;
                    }
                }

                // 2. Map Feb Schedule (Simplified loop based on screenshot patterns)
                for (let d = 1; d <= 28; d++) {
                    const dateKey = `2026-02-${String(d).padStart(2, '0')}`;
                    const dayOfWeek = new Date(2026, 1, d).getDay(); // 0=Sun, 6=Sat
                    
                    // Add shifts based on patterns from image
                    if (dayOfWeek === 1 || dayOfWeek === 3) { // Mon/Wed = Karen
                        const ref = doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'));
                        batch.set(ref, { date: dateKey, empId: teamIds['Karen'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    } else if (dayOfWeek === 2 || dayOfWeek === 4 || dayOfWeek === 5) { // Tue/Thu/Fri = Izzy
                        const ref = doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'));
                        batch.set(ref, { date: dateKey, empId: teamIds['Izzy'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    } else if (dayOfWeek === 0 && d === 1) { // Feb 1 pattern
                        const hRef = doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'));
                        batch.set(hRef, { date: dateKey, empId: teamIds['Hal'], time: '16:00', confirmed: true, createdAt: Date.now() });
                        const aRef = doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'));
                        batch.set(aRef, { date: dateKey, empId: teamIds['Annalissia'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    } else if (dayOfWeek === 6 && d === 28) {
                        const aRef = doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'));
                        batch.set(aRef, { date: dateKey, empId: teamIds['Annalissia'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    }
                }

                await batch.commit();
                setIsSaving(false);
            };

            const addStaffMember = async () => {
                if (!newStaff.name.trim()) return;
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'staff'), { ...newStaff, createdAt: Date.now() });
                setNewStaff({ name: '', color: PRESET_COLORS[0].bg });
            };

            const createShift = async (date, empId, time = '08:00') => {
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'), {
                    date, empId, time, confirmed: true, notes: '', createdAt: Date.now()
                });
            };

            const moveShift = async (id, newDate) => {
                await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', id), { date: newDate });
            };

            const updateShift = async (id, data) => {
                await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', id), data);
                setEditingShift(null);
            };

            // Drag and Drop
            const onDragStart = (e, type, id) => {
                e.dataTransfer.setData("type", type);
                e.dataTransfer.setData("id", id);
            };

            const onDrop = async (e, date) => {
                e.preventDefault();
                e.currentTarget.classList.remove('drag-over');
                const type = e.dataTransfer.getData("type");
                const id = e.dataTransfer.getData("id");
                if (type === 'staff_member') createShift(date, id);
                else if (type === 'existing_shift') moveShift(id, date);
            };

            const month = currentDate.getMonth();
            const year = currentDate.getFullYear();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const firstDay = new Date(year, month, 1).getDay();

            const calendarCells = [];
            for (let i = 0; i < firstDay; i++) calendarCells.push(React.createElement('div', { key: `p-${i}`, className: "h-36 border border-slate-800/20 bg-slate-900/10" }));
            
            for (let d = 1; d <= daysInMonth; d++) {
                const dateKey = `${year}-${String(month + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
                const dayShifts = events[dateKey] || [];
                const holiday = HOLIDAYS_2026[dateKey];
                const alertText = dayNotes[dateKey];
                const isWeekend = new Date(year, month, d).getDay() === 0 || new Date(year, month, d).getDay() === 6;

                calendarCells.push(
                    React.createElement('div', {
                        key: d,
                        onDragOver: (e) => { e.preventDefault(); e.currentTarget.classList.add('drag-over'); },
                        onDragLeave: (e) => e.currentTarget.classList.remove('drag-over'),
                        onDrop: (e) => onDrop(e, dateKey),
                        onClick: () => setSelectedDate(dateKey),
                        className: `h-36 border p-2 relative group overflow-y-auto no-scrollbar transition-all ${isDarkMode ? 'border-slate-800 hover:bg-slate-800/40' : 'border-slate-200 hover:bg-slate-50'} ${selectedDate === dateKey ? 'ring-4 ring-blue-500 z-10 bg-blue-500/10' : ''} ${isWeekend ? 'weekend-bg' : ''}`
                    },
                        React.createElement('div', { className: "flex justify-between items-start mb-1" },
                            React.createElement('span', { className: `text-2xl font-black ${holiday ? 'text-rose-500' : 'text-slate-500'}` }, d),
                            holiday && React.createElement('span', { className: "text-[10px] bg-rose-600 text-white px-2 py-0.5 rounded uppercase font-black" }, String(holiday))
                        ),
                        alertText && React.createElement('div', { className: "text-[12px] font-black text-rose-500 uppercase mb-2 p-1.5 rounded-lg bg-rose-500/10 border-2 border-rose-500/40 shadow-lg animate-pulse" }, "ðŸš¨ " + alertText),
                        React.createElement('div', { className: "space-y-1.5" },
                            dayShifts.map(s => (
                                React.createElement('div', {
                                    key: s.id,
                                    draggable: true,
                                    onDragStart: (e) => onDragStart(e, 'existing_shift', s.id),
                                    onClick: (e) => { e.stopPropagation(); setEditingShift(s); },
                                    className: `draggable-item p-2.5 rounded-xl shadow-xl text-white font-black flex items-center gap-2 transition-all ${staff[s.empId]?.color || 'bg-slate-500'} ${!s.confirmed ? 'opacity-30 border-2 border-white/50 border-dashed scale-95 grayscale' : ''}`
                                },
                                    !s.confirmed && React.createElement('span', { className: "text-base" }, "?"),
                                    React.createElement('span', { className: "text-[15px] truncate flex-1 uppercase tracking-tight" }, staff[s.empId]?.name || '...'),
                                    React.createElement('span', { className: "text-[11px] font-bold opacity-80" }, s.time)
                                )
                            ))
                        )
                    )
                );
            }

            return React.createElement('div', { className: `${isDarkMode ? 'bg-slate-950' : 'bg-slate-50'} h-screen flex flex-col md:flex-row overflow-hidden` },
                // Sidebar Nav
                React.createElement('div', { className: `w-24 border-r flex flex-col items-center py-8 gap-10 ${isDarkMode ? 'bg-slate-900 border-slate-800' : 'bg-white border-slate-200'} no-print` },
                    React.createElement('div', { className: "text-blue-500 font-black text-3xl italic tracking-tighter" }, "DS"),
                    React.createElement('button', { onClick: () => setActiveTab('calendar'), className: `p-4 rounded-3xl transition-all ${activeTab === 'calendar' ? 'bg-blue-600 shadow-2xl scale-110' : 'hover:bg-slate-800'}` }, "ðŸ“…"),
                    React.createElement('button', { onClick: () => setActiveTab('report'), className: `p-4 rounded-3xl transition-all ${activeTab === 'report' ? 'bg-blue-600 shadow-2xl scale-110' : 'hover:bg-slate-800'}` }, "ðŸ“‹"),
                    React.createElement('button', { onClick: () => setIsStaffModalOpen(true), className: "p-4 rounded-3xl hover:bg-slate-800 text-2xl" }, "ðŸ‘¥"),
                    React.createElement('div', { className: "mt-auto flex flex-col items-center gap-6" },
                        isSaving && React.createElement('div', { className: "w-3 h-3 bg-emerald-500 rounded-full animate-ping" }),
                        React.createElement('button', { onClick: () => setIsDarkMode(!isDarkMode), className: "p-4 opacity-40 hover:opacity-100" }, isDarkMode ? "â˜€ï¸" : "ðŸŒ™")
                    )
                ),

                activeTab === 'calendar' ? 
                React.createElement('div', { className: "flex-1 flex overflow-hidden" },
                    // Info Panel
                    React.createElement('div', { className: `w-96 border-r p-8 overflow-y-auto no-scrollbar ${isDarkMode ? 'bg-slate-900/40 border-slate-800' : 'bg-white border-slate-200'} no-print` },
                        React.createElement('header', { className: "mb-12" },
                            React.createElement('h1', { className: "text-4xl font-black tracking-tighter text-blue-500" }, "RECEPTION HUB"),
                            React.createElement('p', { className: "text-[12px] font-bold text-slate-500 uppercase tracking-widest mt-1" }, "Destiny Springs Healthcare")
                        ),
                        
                        React.createElement('section', { className: "mb-10" },
                            React.createElement('h2', { className: "text-[12px] font-black text-slate-500 uppercase mb-5 tracking-widest italic" }, "Team (Drag Name to Calendar)"),
                            React.createElement('div', { className: "flex flex-wrap gap-3" }, 
                                Object.values(staff).map(s => React.createElement('div', {
                                    key: s.id, draggable: true,
                                    onDragStart: (e) => onDragStart(e, 'staff_member', s.id),
                                    className: `draggable-item px-6 py-3 rounded-2xl text-[16px] font-black text-white shadow-xl active:scale-95 transition-all ${s.color}`
                                }, s.name.toUpperCase()))
                            )
                        ),

                        selectedDate && React.createElement('section', { className: "animate-fade-in" },
                            React.createElement('div', { className: "p-8 rounded-[2.5rem] bg-rose-600/10 border-2 border-rose-600/30 shadow-2xl ring-4 ring-rose-600/5" },
                                React.createElement('label', { className: "text-[14px] font-black text-rose-500 uppercase mb-4 block tracking-widest" }, "IMPORTANT DAY ALERT"),
                                React.createElement('textarea', { 
                                    value: dayNotes[selectedDate] || '', 
                                    onChange: (e) => setDoc(doc(db, 'artifacts', appId, 'public', 'data', 'dayNotes', selectedDate), { text: e.target.value }),
                                    className: "w-full bg-slate-900 border-none rounded-3xl p-6 text-lg outline-none text-rose-400 font-black placeholder:text-rose-900 h-32 resize-none",
                                    placeholder: "eg: Needs Coverage..."
                                })
                            )
                        )
                    ),

                    // Main View
                    React.createElement('div', { className: "flex-1 p-10 overflow-y-auto no-scrollbar" },
                        React.createElement('div', { className: "flex justify-between items-center mb-12 no-print" },
                            React.createElement('h2', { className: "text-7xl font-black tracking-tighter uppercase italic" }, currentDate.toLocaleDateString(undefined, { month: 'long', year: 'numeric' })),
                            React.createElement('div', { className: "flex gap-6" },
                                React.createElement('div', { className: "flex bg-slate-900 p-2 rounded-[2rem] border-2 border-slate-800 shadow-inner" },
                                    React.createElement('button', { onClick: () => setCurrentDate(new Date(year, month-1, 1)), className: "p-4 hover:bg-slate-800 rounded-2xl" }, "â—€"),
                                    React.createElement('button', { onClick: () => setCurrentDate(new Date(year, month+1, 1)), className: "p-4 hover:bg-slate-800 rounded-2xl" }, "â–¶")
                                ),
                                React.createElement('button', { onClick: () => window.print(), className: "bg-white text-slate-950 px-12 py-4 rounded-[1.5rem] font-black uppercase text-base shadow-2xl hover:bg-blue-600 hover:text-white transition-all hover:scale-105" }, "Print Summary")
                            )
                        ),
                        React.createElement('div', { className: "grid grid-cols-7 border-2 border-slate-800 rounded-[4rem] overflow-hidden shadow-2xl bg-slate-900/20 calendar-grid" },
                            ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (
                                React.createElement('div', { key: day, className: "py-10 text-center text-[14px] font-black text-slate-500 uppercase tracking-[0.4em] border-b-2 border-slate-800 bg-slate-900/40" }, day)
                            )),
                            calendarCells
                        )
                    )
                ) : 
                // Report Page
                React.createElement('div', { className: "flex-1 p-12 overflow-y-auto bg-slate-950 no-scrollbar" },
                    React.createElement('div', { className: "max-w-5xl mx-auto space-y-12" },
                        React.createElement('header', { className: "border-b-2 border-slate-800 pb-12" },
                            React.createElement('h2', { className: "text-8xl font-black text-blue-500 italic tracking-tighter" }, "SHIFT REPORT"),
                            React.createElement('p', { className: "text-slate-500 text-lg font-bold uppercase tracking-[0.5em] mt-4" }, "OFFICIAL HANDOVER LOG")
                        ),
                        React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-12" }, 
                            Object.keys(INITIAL_REPORT).map(k => React.createElement('div', { key: k, className: "space-y-4" },
                                React.createElement('label', { className: "text-[14px] font-black text-slate-400 uppercase tracking-[0.2em]" }, k.replace(/([A-Z])/g, ' $1')),
                                React.createElement('textarea', { 
                                    value: String(currentReport[k] || ''), 
                                    onChange: e => updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'currentReport', 'current'), { [k]: e.target.value }), 
                                    className: "w-full bg-slate-900 border-2 border-slate-800 rounded-[3rem] p-10 text-lg h-56 focus:border-blue-500 outline-none transition-all resize-none shadow-2xl", 
                                    placeholder: `Details for ${k}...` 
                                })
                            ))
                        )
                    )
                ),

                // Shift Editor Modal (Contains Toggle)
                editingShift && React.createElement('div', { className: "fixed inset-0 bg-black/95 backdrop-blur-3xl z-[200] flex items-center justify-center p-4" },
                    React.createElement('div', { className: "bg-slate-900 border-2 border-slate-800 p-12 rounded-[5rem] w-full max-w-lg shadow-2xl animate-fade-in" },
                        React.createElement('h3', { className: "text-4xl font-black uppercase text-white mb-10 italic tracking-tighter" }, staff[editingShift.empId]?.name + "'s Shift"),
                        React.createElement('div', { className: "space-y-10" },
                            React.createElement('div', { className: "p-8 bg-slate-800/50 rounded-[3rem] border border-white/5" },
                                React.createElement('p', { className: "text-[12px] font-black text-slate-500 uppercase mb-6 text-center tracking-widest" }, "Confirmation Status"),
                                React.createElement('button', { 
                                    onClick: () => updateShift(editingShift.id, { confirmed: !editingShift.confirmed }),
                                    className: `w-full py-6 rounded-3xl font-black text-xl uppercase tracking-widest shadow-2xl transition-all ${editingShift.confirmed !== false ? 'bg-emerald-500 text-white' : 'bg-rose-600 text-white animate-pulse'}`
                                }, editingShift.confirmed !== false ? 'Confirmed âœ“' : 'Mark as Unconfirmed ?')
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: "text-[12px] font-black text-slate-500 uppercase mb-3 block" }, "Start Time"),
                                React.createElement('input', { 
                                    type: "time", value: editingShift.time, 
                                    onChange: (e) => setEditingShift({...editingShift, time: e.target.value}),
                                    className: "w-full bg-slate-800 p-6 rounded-3xl font-black text-4xl text-white outline-none border-2 border-white/5 focus:border-blue-500"
                                })
                            ),
                            React.createElement('div', { className: "flex gap-6" },
                                React.createElement('button', { onClick: () => updateShift(editingShift.id, editingShift), className: "flex-1 bg-blue-600 py-6 rounded-[2rem] font-black uppercase text-xl shadow-2xl hover:bg-blue-500" }, "Save"),
                                React.createElement('button', { onClick: () => { deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', editingShift.id)); setEditingShift(null); }, className: "bg-rose-600 px-10 py-6 rounded-[2rem] font-black text-2xl" }, "ðŸ—‘")
                            ),
                            React.createElement('button', { onClick: () => setEditingShift(null), className: "w-full text-slate-600 font-bold uppercase text-xs tracking-widest pt-4" }, "Close Editor")
                        )
                    )
                ),

                // Team Setup Modal
                isStaffModalOpen && React.createElement('div', { className: "fixed inset-0 bg-black/95 backdrop-blur-3xl z-[200] flex items-center justify-center p-4" },
                    React.createElement('div', { className: "bg-slate-900 p-12 rounded-[5rem] w-full max-w-xl border-2 border-slate-800 shadow-2xl animate-fade-in" },
                        React.createElement('div', { className: "flex justify-between items-center mb-10" },
                            React.createElement('div', null,
                                React.createElement('h3', { className: "text-5xl font-black uppercase text-white italic tracking-tighter" }, "Team Setup"),
                                React.createElement('p', { className: "text-[12px] font-bold text-slate-500" }, "Add members and choose colors")
                            ),
                            React.createElement('button', { onClick: () => setIsStaffModalOpen(false), className: "text-slate-500 text-6xl font-light" }, "Ã—")
                        ),
                        React.createElement('div', { className: "space-y-8 mb-12" },
                            React.createElement('input', { 
                                value: newStaff.name, 
                                onChange: e => setNewStaff({...newStaff, name: e.target.value}), 
                                className: "w-full bg-slate-800 rounded-3xl p-8 text-3xl text-white font-black outline-none border-2 border-white/5 focus:border-blue-500", 
                                placeholder: "Enter Full Name..." 
                            }),
                            React.createElement('div', { className: "grid grid-cols-4 gap-6" },
                                PRESET_COLORS.map(c => React.createElement('button', {
                                    key: c.bg,
                                    onClick: () => setNewStaff({...newStaff, color: c.bg}),
                                    className: `h-20 rounded-[1.5rem] transition-all ${c.bg} ${newStaff.color === c.bg ? 'ring-[12px] ring-white/10 scale-110' : 'opacity-20 hover:opacity-100 hover:scale-105'}`
                                }))
                            ),
                            React.createElement('button', { onClick: addStaffMember, className: "w-full bg-blue-600 py-8 rounded-[2.5rem] font-black uppercase tracking-widest text-2xl shadow-2xl hover:bg-blue-500" }, "Add to Team")
                        ),
                        
                        React.createElement('div', { className: "bg-slate-800/30 p-8 rounded-[3rem] border border-white/5 mb-8" },
                            React.createElement('p', { className: "text-slate-400 text-sm mb-4 font-bold" }, "Used up too much time? Restore your Feb schedule in one click:"),
                            React.createElement('button', { onClick: restoreFebSchedule, className: "w-full bg-emerald-600 py-4 rounded-2xl font-black uppercase tracking-tighter hover:bg-emerald-500" }, "Restore Feb Team & Shifts")
                        ),

                        React.createElement('div', { className: "space-y-4 max-h-64 overflow-y-auto no-scrollbar p-2" }, 
                            Object.values(staff).map(s => (
                                React.createElement('div', { key: s.id, className: "flex items-center justify-between p-8 bg-slate-800/50 rounded-[3rem] border-2 border-white/5" },
                                    React.createElement('div', { className: "flex items-center gap-8" },
                                        React.createElement('div', { className: `w-8 h-8 rounded-full ${s.color} shadow-2xl shadow-white/5` }),
                                        React.createElement('span', { className: "font-black uppercase text-2xl tracking-tighter" }, s.name)
                                    ),
                                    React.createElement('button', { onClick: () => deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'staff', s.id)), className: "text-rose-500 font-black text-base uppercase px-6 py-3 hover:bg-rose-500/10 rounded-2xl" }, "Remove")
                                )
                            ))
                        )
                    )
                )
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</head>
<body class="overflow-hidden">
    <div id="root"></div>
</body>
</html>
