<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destiny Springs Hub | Command Center</title>
    <!-- Frameworks -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@500;700&display=swap');
        
        body { 
            background-color: #000000; 
            margin: 0; padding: 0; 
            color: #f8fafc; 
            font-family: 'Inter', sans-serif; 
            overflow: hidden; 
        }

        .mono { font-family: 'JetBrains Mono', monospace; }

        .app-container {
            display: flex;
            height: 100vh;
            width: 100vw;
            background: #000000;
        }

        .nav-rail {
            width: 72px;
            background: #050505;
            border-right: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 32px 0;
            z-index: 50;
        }

        .side-panel {
            width: 320px;
            background: #080808;
            border-right: 1px solid rgba(255, 255, 255, 0.05);
            padding: 24px;
            overflow-y: auto;
        }

        .main-content {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
            background: radial-gradient(circle at top right, #0a0a0a, #000000);
        }

        .section-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 16px;
            padding: 16px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .calendar-cell {
            min-height: 135px;
            background: #030303;
            border: 0.5px solid rgba(255, 255, 255, 0.03);
            padding: 10px;
            transition: background 0.15s ease;
        }

        .calendar-cell:hover { background: rgba(255, 255, 255, 0.02); }

        .shift-pill {
            padding: 5px 8px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 3px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255,255,255,0.05);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .drag-over { border: 2px solid #3b82f6 !important; background: rgba(59, 130, 246, 0.05) !important; }
        .draggable-item { cursor: grab; transition: transform 0.1s ease; }
        .draggable-item:active { cursor: grabbing; transform: scale(0.97); }

        @media print {
            .no-print { display: none !important; }
            body { background-color: white !important; color: black !important; overflow: visible !important; }
            .calendar-grid { border: 1px solid #000 !important; border-radius: 0 !important; }
        }
    </style>

    <script type="module">
        import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, doc, onSnapshot, setDoc, addDoc, updateDoc, deleteDoc, writeBatch } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCYraZ_M0NknCg6lgdncSpucHfgPOMqBi8",
            authDomain: "reception-calendar-1.firebaseapp.com",
            projectId: "reception-calendar-1",
            storageBucket: "reception-calendar-1.firebasestorage.app",
            messagingSenderId: "613158953901",
            appId: "1:613158953901:web:ed3f0a6cc4cb23f65df724",
            measurementId: "G-5PZMYFEPYW"
        };

        const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = 'destiny-springs-hub';

        const PRESET_COLORS = [
            { bg: 'bg-cyan-500' }, { bg: 'bg-orange-500' }, { bg: 'bg-violet-500' }, 
            { bg: 'bg-rose-500' }, { bg: 'bg-emerald-500' }, { bg: 'bg-amber-500' }, 
            { bg: 'bg-indigo-500' }, { bg: 'bg-slate-500' }
        ];

        const DESK_VIBES = [
            { emoji: 'âš¡', label: 'Energized' }, { emoji: 'ðŸ›¡ï¸', label: 'Stable' },
            { emoji: 'ðŸš€', label: 'Active' }, { emoji: 'ðŸŽ§', label: 'Zone' },
            { emoji: 'ðŸ¦', label: 'Lead' }
        ];

        const REPORT_FIELDS = [
            { id: 'mail', label: 'Mail' }, { id: 'property', label: 'Patient Property' },
            { id: 'keys', label: 'Keys/Badges' }, { id: 'supplies', label: 'Supplies' },
            { id: 'visit', label: 'Visitations' }, { id: 'discharge', label: 'Discharges' },
            { id: 'it', label: 'IT Concerns' }, { id: 'aoc', label: 'AOC' },
            { id: 'maint', label: 'Maintenance' }, { id: 'cm', label: 'Social Services' }
        ];

        function App() {
            const [user, setUser] = React.useState(null);
            const [activeTab, setActiveTab] = React.useState('calendar');
            const [currentDate, setCurrentDate] = React.useState(new Date(2026, 1, 1));
            const [selectedDate, setSelectedDate] = React.useState(null);
            const [isDarkMode, setIsDarkMode] = React.useState(true);
            
            const [events, setEvents] = React.useState(() => JSON.parse(localStorage.getItem('ds_events')) || {});
            const [staff, setStaff] = React.useState(() => JSON.parse(localStorage.getItem('ds_staff')) || {});
            const [tasks, setTasks] = React.useState(() => JSON.parse(localStorage.getItem('ds_tasks')) || []);
            const [deskStatus, setDeskStatus] = React.useState(() => JSON.parse(localStorage.getItem('ds_vibe')) || { vibe: DESK_VIBES[0], note: '' });
            const [dayNotes, setDayNotes] = React.useState(() => JSON.parse(localStorage.getItem('ds_daynotes')) || {});
            const [reportData, setReportData] = React.useState({});

            const [isStaffModalOpen, setIsStaffModalOpen] = React.useState(false);
            const [isAddModalOpen, setIsAddModalOpen] = React.useState(false);
            const [editingShift, setEditingShift] = React.useState(null);
            
            const [newStaffName, setNewStaffName] = React.useState('');
            const [newStaffColor, setNewStaffColor] = React.useState(PRESET_COLORS[0].bg);
            const [newTaskText, setNewTaskText] = React.useState('');
            const [newShiftTime, setNewShiftTime] = React.useState('08:00');
            const [isSaving, setIsSaving] = React.useState(false);

            React.useEffect(() => {
                localStorage.setItem('ds_events', JSON.stringify(events));
                localStorage.setItem('ds_staff', JSON.stringify(staff));
                localStorage.setItem('ds_tasks', JSON.stringify(tasks));
                localStorage.setItem('ds_vibe', JSON.stringify(deskStatus));
                localStorage.setItem('ds_daynotes', JSON.stringify(dayNotes));
            }, [events, staff, tasks, deskStatus, dayNotes]);

            React.useEffect(() => {
                const initAuth = async () => {
                    await signInAnonymously(auth);
                };
                initAuth();
                return onAuthStateChanged(auth, setUser);
            }, []);

            React.useEffect(() => {
                if (!user) return;
                const unsubShifts = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'), (snap) => {
                    const data = {};
                    snap.forEach(d => {
                        const s = d.data();
                        if (!data[s.date]) data[s.date] = [];
                        data[s.date].push({ ...s, id: d.id });
                    });
                    setEvents(data);
                });
                const unsubStaff = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'staff'), (snap) => {
                    const list = {};
                    snap.forEach(d => { list[d.id] = { ...d.data(), id: d.id }; });
                    setStaff(list);
                });
                const unsubTasks = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'checklist'), (snap) => {
                    const list = [];
                    snap.forEach(d => { list.push({ ...d.data(), id: d.id }); });
                    setTasks(list.sort((a,b) => (b.createdAt || 0) - (a.createdAt || 0)));
                });
                const unsubNotes = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'dayNotes'), (snap) => {
                    const notes = {};
                    snap.forEach(d => { notes[d.id] = d.data().text; });
                    setDayNotes(notes);
                });
                const unsubReport = onSnapshot(doc(db, 'artifacts', appId, 'public', 'data', 'currentReport', 'current'), (snap) => {
                    if (snap.exists()) setReportData(snap.data());
                });
                const unsubStatus = onSnapshot(doc(db, 'artifacts', appId, 'public', 'data', 'deskStatus', 'current'), (snap) => {
                    if (snap.exists()) setDeskStatus(snap.data());
                });
                return () => { unsubShifts(); unsubStaff(); unsubTasks(); unsubNotes(); unsubReport(); unsubStatus(); };
            }, [user]);

            const handleAddStaff = async () => {
                if (!newStaffName.trim()) return;
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'staff'), {
                    name: newStaffName.trim(), color: newStaffColor, createdAt: Date.now()
                });
                setNewStaffName('');
            };

            const assignShift = async (date, empId, time = "08:00") => {
                if (!empId) return;
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'), {
                    date, empId, time, confirmed: true, createdAt: Date.now()
                });
                setIsAddModalOpen(false);
            };

            const toggleConfirmed = async (id, current) => {
                await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', id), { confirmed: !current });
                setEditingShift(prev => prev ? {...prev, confirmed: !current} : null);
            };

            const restoreFeb = async () => {
                setIsSaving(true);
                const batch = writeBatch(db);
                const baseline = [
                    { name: 'Karen', color: 'bg-cyan-500' }, { name: 'Izzy', color: 'bg-orange-500' },
                    { name: 'Annalissia', color: 'bg-violet-500' }, { name: 'Hal', color: 'bg-rose-500' }
                ];
                const teamIds = {};
                for (const m of baseline) {
                    const existing = Object.values(staff).find(s => s.name === m.name);
                    if (existing) teamIds[m.name] = existing.id;
                    else {
                        const ref = doc(collection(db, 'artifacts', appId, 'public', 'data', 'staff'));
                        batch.set(ref, { ...m, createdAt: Date.now() });
                        teamIds[m.name] = ref.id;
                    }
                }
                for (let d = 1; d <= 28; d++) {
                    const dk = `2026-02-${String(d).padStart(2, '0')}`;
                    const dow = new Date(2026, 1, d).getDay();
                    if (dow === 1 || dow === 3) batch.set(doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts')), { date: dk, empId: teamIds['Karen'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    else if (dow === 2 || dow === 4 || dow === 5) batch.set(doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts')), { date: dk, empId: teamIds['Izzy'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    else if (dow === 0 && d === 1) {
                        batch.set(doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts')), { date: dk, empId: teamIds['Hal'], time: '16:00', confirmed: true, createdAt: Date.now() });
                        batch.set(doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts')), { date: dk, empId: teamIds['Annalissia'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    }
                }
                await batch.commit();
                setIsSaving(false);
            };

            const onDragStart = (e, type, id) => {
                e.dataTransfer.setData("type", type);
                e.dataTransfer.setData("id", id);
            };

            const onDrop = async (e, date) => {
                e.preventDefault();
                e.currentTarget.classList.remove('drag-over');
                const type = e.dataTransfer.getData("type");
                const id = e.dataTransfer.getData("id");
                if (type === 'staff_member') assignShift(date, id);
                else if (type === 'existing_shift') await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', id), { date });
            };

            const month = currentDate.getMonth();
            const year = currentDate.getFullYear();
            const firstDay = new Date(year, month, 1).getDay();
            const totalDays = new Date(year, month + 1, 0).getDate();

            const cells = [];
            for (let i = 0; i < firstDay; i++) cells.push(React.createElement('div', { key: `p-${i}`, className: "calendar-cell bg-white/[0.01]" }));
            for (let d = 1; d <= totalDays; d++) {
                const dk = `${year}-${String(month + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
                const dayShifts = events[dk] || [];
                const alert = dayNotes[dk];
                const isWeekend = new Date(year, month, d).getDay() === 0 || new Date(year, month, d).getDay() === 6;

                cells.push(
                    React.createElement('div', {
                        key: d,
                        onDragOver: e => { e.preventDefault(); e.currentTarget.classList.add('drag-over'); },
                        onDragLeave: e => e.currentTarget.classList.remove('drag-over'),
                        onDrop: e => onDrop(e, dk),
                        onClick: () => setSelectedDate(dk),
                        className: `calendar-cell relative overflow-y-auto no-scrollbar transition-all ${selectedDate === dk ? 'bg-blue-500/5' : ''} ${isWeekend ? 'bg-white/[0.02]' : ''}`
                    },
                        React.createElement('div', { className: "flex justify-between items-start mb-2" },
                            React.createElement('span', { className: `text-xl font-bold italic tracking-tighter ${alert ? 'text-rose-500 underline decoration-rose-500/30' : 'text-slate-700'}` }, d),
                            React.createElement('button', { onClick: (e) => { e.stopPropagation(); setSelectedDate(dk); setIsAddModalOpen(true); }, className: "opacity-0 group-hover:opacity-100 text-blue-500 text-xl font-bold px-1" }, "+")
                        ),
                        alert && React.createElement('div', { className: "text-[10px] font-black text-rose-500 uppercase bg-rose-500/10 border border-rose-500/30 px-2 py-1 rounded mb-2 truncate" }, alert),
                        React.createElement('div', { className: "space-y-1" }, dayShifts.map(s => (
                            React.createElement('div', {
                                key: s.id, draggable: true,
                                onDragStart: e => onDragStart(e, 'existing_shift', s.id),
                                onClick: e => { e.stopPropagation(); setEditingShift(s); },
                                className: `shift-pill draggable-item text-white ${staff[s.empId]?.color || 'bg-slate-700'} ${s.confirmed === false ? 'opacity-30 grayscale scale-95 border border-white/30 border-dashed' : ''}`
                            },
                                s.confirmed === false && React.createElement('span', null, "?"),
                                React.createElement('span', { className: "truncate flex-1" }, staff[s.empId]?.name || '...'),
                                React.createElement('span', { className: "opacity-60 text-[10px] mono" }, s.time)
                            )
                        )))
                    )
                );
            }

            if (!user) return React.createElement('div', { className: "h-screen bg-black flex items-center justify-center text-blue-500 font-bold animate-pulse" }, "SYNCING COMMAND CENTER...");

            return React.createElement('div', { className: "app-container" },
                
                // NAV RAIL
                React.createElement('nav', { className: "nav-rail no-print" },
                    React.createElement('div', { className: "text-blue-500 font-black text-2xl mb-12 italic" }, "DS"),
                    React.createElement('div', { className: "flex flex-col gap-8" },
                        React.createElement('button', { onClick: () => setActiveTab('calendar'), className: `p-3 rounded-xl transition-all ${activeTab === 'calendar' ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/40' : 'text-slate-600 hover:text-white'}` }, "ðŸ“…"),
                        React.createElement('button', { onClick: () => setActiveTab('report'), className: `p-3 rounded-xl transition-all ${activeTab === 'report' ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/40' : 'text-slate-600 hover:text-white'}` }, "ðŸ“‹"),
                        React.createElement('button', { onClick: () => setIsStaffModalOpen(true), className: "p-3 rounded-xl text-slate-600 hover:text-white transition-all" }, "ðŸ‘¥")
                    ),
                    React.createElement('div', { className: "mt-auto flex flex-col gap-4 items-center" },
                        isSaving && React.createElement('div', { className: "w-2 h-2 bg-emerald-500 rounded-full animate-ping" }),
                        React.createElement('button', { onClick: () => setIsDarkMode(!isDarkMode), className: "p-3 opacity-10 hover:opacity-50" }, "âš™ï¸")
                    )
                ),

                activeTab === 'calendar' ? 
                React.createElement('div', { className: "flex-1 flex overflow-hidden" },
                    // THE SIDE PANEL
                    React.createElement('aside', { className: "side-panel no-scrollbar no-print" },
                        React.createElement('header', { className: "mb-8" },
                            React.createElement('h2', { className: "text-xs font-bold text-slate-600 uppercase tracking-widest mb-1" }, "Destiny Springs"),
                            React.createElement('h1', { className: "text-2xl font-black tracking-tighter italic" }, "RECEPTION HUB")
                        ),
                        
                        React.createElement('section', { className: "section-card mb-8 shadow-xl" },
                            React.createElement('h3', { className: "text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4" }, "Shift Vibe"),
                            React.createElement('div', { className: "flex flex-wrap gap-2.5 mb-4" }, DESK_VIBES.map(v => (
                                React.createElement('button', { key: v.label, onClick: () => setDoc(doc(db, 'artifacts', appId, 'public', 'data', 'deskStatus', 'current'), { vibe: v, note: deskStatus.note }), className: `p-2 rounded-xl text-2xl transition-all ${deskStatus.vibe?.label === v.label ? 'bg-blue-600 shadow-lg scale-110' : 'bg-white/5 hover:bg-white/10'}` }, v.emoji)
                            ))),
                            React.createElement('textarea', { value: deskStatus.note || '', onChange: e => setDoc(doc(db, 'artifacts', appId, 'public', 'data', 'deskStatus', 'current'), { vibe: deskStatus.vibe, note: e.target.value }), className: "w-full bg-black/40 border border-white/5 rounded-xl p-3 text-xs outline-none text-blue-100 h-20 resize-none", placeholder: "Immediate desk notes..." })
                        ),

                        React.createElement('section', { className: "mb-8" },
                            React.createElement('h3', { className: "text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4" }, "Daily Tasks"),
                            React.createElement('form', { onSubmit: async e => { e.preventDefault(); if(newTaskText.trim()) { await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'checklist'), { text: newTaskText.trim(), completed: false, createdAt: Date.now() }); setNewTaskText(''); } }, className: "flex gap-2 mb-4" },
                                React.createElement('input', { value: newTaskText, onChange: e => setNewTaskText(e.target.value), className: "flex-1 bg-black border border-white/10 rounded-xl p-3 text-xs outline-none focus:border-blue-500", placeholder: "New task..." }),
                                React.createElement('button', { type: "submit", className: "bg-blue-600 px-4 rounded-xl font-bold" }, "+")
                            ),
                            React.createElement('div', { className: "space-y-1.5 max-h-40 overflow-y-auto no-scrollbar" }, tasks.map(t => (
                                React.createElement('div', { key: t.id, className: "flex items-center justify-between p-2 hover:bg-white/5 rounded-lg group transition-all" },
                                    React.createElement('div', { onClick: () => updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'checklist', t.id), { completed: !t.completed }), className: "flex items-center gap-3 cursor-pointer flex-1" },
                                        React.createElement('div', { className: `w-4 h-4 rounded border flex items-center justify-center ${t.completed ? 'bg-emerald-600 border-emerald-600' : 'border-slate-700'}` }, t.completed && "âœ“"),
                                        React.createElement('span', { className: `text-[11px] font-bold ${t.completed ? 'line-through opacity-30' : ''}` }, t.text)
                                    ),
                                    React.createElement('button', { onClick: () => deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'checklist', t.id)), className: "opacity-0 group-hover:opacity-100 text-rose-500 px-2" }, "Ã—")
                                )
                            )))
                        ),

                        React.createElement('section', { className: "mb-8" },
                            React.createElement('h3', { className: "text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4 italic" }, "Team (Drag Name)"),
                            React.createElement('div', { className: "flex flex-wrap gap-2" }, Object.values(staff).map(s => (
                                React.createElement('div', { key: s.id, draggable: true, onDragStart: e => onDragStart(e, 'staff_member', s.id), className: `draggable-item px-3 py-1.5 rounded-lg text-[13px] font-bold text-white shadow-lg ${s.color}` }, s.name.toUpperCase())
                            )))
                        ),

                        selectedDate && React.createElement('div', { className: "animate-fade-in p-5 rounded-2xl bg-rose-900/10 border border-rose-500/20" },
                            React.createElement('label', { className: "text-[10px] font-black text-rose-500 uppercase mb-2 block tracking-widest" }, "Day Alert"),
                            React.createElement('textarea', { value: dayNotes[selectedDate] || '', onChange: e => setDoc(doc(db, 'artifacts', appId, 'public', 'data', 'dayNotes', selectedDate), { text: e.target.value }), className: "w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm text-rose-400 font-bold h-16 outline-none resize-none", placeholder: "Needs coverage..." })
                        )
                    ),

                    // MAIN CONTENT
                    React.createElement('main', { className: "main-content no-scrollbar flex flex-col" },
                        React.createElement('div', { className: "flex justify-between items-center mb-10 no-print" },
                            React.createElement('h2', { className: "text-6xl font-black tracking-tighter uppercase italic text-white" }, currentDate.toLocaleDateString(undefined, { month: 'long', year: 'numeric' })),
                            React.createElement('div', { className: "flex gap-4" },
                                React.createElement('div', { className: "flex bg-white/5 p-1 rounded-xl border border-white/10" },
                                    React.createElement('button', { onClick: () => setCurrentDate(new Date(year, month - 1, 1)), className: "p-3 hover:bg-white/10 rounded-lg transition-all" }, "â—€"),
                                    React.createElement('button', { onClick: () => setCurrentDate(new Date(year, month + 1, 1)), className: "p-3 hover:bg-white/10 rounded-lg transition-all" }, "â–¶")
                                ),
                                React.createElement('button', { onClick: () => window.print(), className: "bg-white text-black px-10 py-3 rounded-2xl font-black uppercase text-sm shadow-2xl hover:bg-blue-600 hover:text-white transition-all" }, "Print Summary")
                            )
                        ),
                        React.createElement('div', { className: "flex-1 calendar-grid bg-white/[0.01]" },
                            ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'].map(day => (
                                React.createElement('div', { key: day, className: "py-6 text-center text-[11px] font-black text-slate-600 uppercase tracking-[0.4em] border-b border-white/10" }, day)
                            )),
                            cells
                        )
                    )
                ) : 
                // REPORT
                React.createElement('div', { className: "flex-1 p-16 overflow-y-auto bg-black no-scrollbar" },
                    React.createElement('div', { className: "max-w-5xl mx-auto space-y-12" },
                        React.createElement('header', { className: "border-b-2 border-white/10 pb-10 flex justify-between items-end" },
                            React.createElement('div', null,
                                React.createElement('h2', { className: "text-7xl font-black text-blue-500 italic tracking-tighter" }, "SHIFT REPORT"),
                                React.createElement('p', { className: "text-slate-500 text-sm font-bold uppercase tracking-[0.4em] mt-4" }, "Healthcare Provider Log")
                            )
                        ),
                        React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-10" }, 
                            REPORT_FIELDS.map(f => (
                                React.createElement('div', { key: f.id, className: "space-y-4" },
                                    React.createElement('label', { className: "text-[14px] font-black text-slate-400 uppercase tracking-widest" }, f.label),
                                    React.createElement('textarea', { 
                                        value: String(reportData[f.id] || ''), 
                                        onChange: e => updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'currentReport', 'current'), { [f.id]: e.target.value }), 
                                        className: "w-full bg-white/[0.02] border border-white/10 rounded-[2.5rem] p-8 text-lg h-56 focus:border-blue-500 outline-none transition-all resize-none shadow-inner", 
                                        placeholder: `Update ${f.label}...` 
                                    })
                                )
                            ))
                        )
                    )
                ),

                // MODALS
                isAddModalOpen && React.createElement('div', { className: "fixed inset-0 bg-black/95 backdrop-blur-xl z-[300] flex items-center justify-center p-4" },
                    React.createElement('div', { className: "bg-zinc-900 border border-white/10 p-10 rounded-[4rem] w-full max-w-md shadow-2xl animate-fade-in" },
                        React.createElement('h3', { className: "text-3xl font-black uppercase italic tracking-tighter mb-8" }, "Add Shift"),
                        React.createElement('div', { className: "space-y-6" },
                            React.createElement('div', { className: "grid grid-cols-2 gap-2 max-h-40 overflow-y-auto pr-2 no-scrollbar" }, Object.values(staff).map(s => (
                                React.createElement('button', { key: s.id, onClick: () => assignShift(selectedDate, s.id, newShiftTime), className: `p-3 rounded-2xl text-[11px] font-black uppercase text-white shadow-xl ${s.color}` }, s.name)
                            ))),
                            React.createElement('input', { type: "time", value: newShiftTime, onChange: e => setNewShiftTime(e.target.value), className: "w-full bg-black border border-white/10 rounded-3xl p-5 text-4xl text-white font-black text-center" }),
                            React.createElement('button', { onClick: () => setIsAddModalOpen(false), className: "w-full text-slate-600 font-bold uppercase text-xs pt-4" }, "Cancel")
                        )
                    )
                ),

                editingShift && React.createElement('div', { className: "fixed inset-0 bg-black/95 backdrop-blur-xl z-[300] flex items-center justify-center p-4" },
                    React.createElement('div', { className: "bg-zinc-900 border border-white/10 p-10 rounded-[4rem] w-full max-w-md shadow-2xl animate-fade-in" },
                        React.createElement('h3', { className: "text-3xl font-black uppercase text-white mb-10 italic tracking-tighter text-center" }, (staff[editingShift.empId]?.name || 'Employee') + "'s Shift"),
                        React.createElement('div', { className: "space-y-8" },
                            React.createElement('div', { className: "p-6 bg-white/5 rounded-2xl border border-white/5" },
                                React.createElement('button', { 
                                    onClick: () => toggleConfirmed(editingShift.id, editingShift.confirmed !== false),
                                    className: `w-full py-5 rounded-3xl font-black text-base uppercase tracking-widest shadow-2xl transition-all ${editingShift.confirmed !== false ? 'bg-emerald-600 text-white' : 'bg-rose-600 text-white'}`
                                }, editingShift.confirmed !== false ? 'Confirmed âœ“' : 'UNCONFIRMED ?')
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-3 block text-center" }, "Update Time"),
                                React.createElement('input', { type: "time", value: editingShift.time, onChange: e => updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', editingShift.id), { time: e.target.value }), className: "w-full bg-black border border-white/10 rounded-3xl p-6 text-4xl text-white font-black text-center" })
                            ),
                            React.createElement('div', { className: "flex gap-4" },
                                React.createElement('button', { onClick: () => setEditingShift(null), className: "flex-1 bg-blue-600 py-6 rounded-[2rem] font-black uppercase text-xl shadow-2xl hover:bg-blue-500" }, "Done"),
                                React.createElement('button', { onClick: () => { deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', editingShift.id)); setEditingShift(null); }, className: "bg-rose-600 px-10 py-6 rounded-[2rem] font-black text-2xl transition-all hover:scale-105" }, "ðŸ—‘")
                            )
                        )
                    )
                ),

                isStaffModalOpen && React.createElement('div', { className: "fixed inset-0 bg-black/95 backdrop-blur-2xl z-[300] flex items-center justify-center p-4" },
                    React.createElement('div', { className: "bg-zinc-900 border border-white/10 p-10 rounded-[4rem] w-full max-w-xl max-h-[85vh] flex flex-col shadow-2xl animate-fade-in" },
                        React.createElement('div', { className: "flex justify-between items-center mb-6 shrink-0" },
                            React.createElement('h3', { className: "text-4xl font-black uppercase italic tracking-tighter" }, "Team Setup"),
                            React.createElement('button', { onClick: () => setIsStaffModalOpen(false), className: "text-slate-500 text-6xl font-light hover:text-white" }, "Ã—")
                        ),
                        React.createElement('button', { onClick: restoreFeb, className: "w-full bg-emerald-600/10 text-emerald-400 py-4 rounded-[1.5rem] border border-emerald-600/30 font-black text-[11px] uppercase mb-8 shadow-inner" }, "Restore February Schedule"),
                        React.createElement('div', { className: "space-y-4 mb-8 shrink-0" },
                            React.createElement('input', { value: newStaffName, onChange: e => setNewStaffName(e.target.value), className: "w-full bg-black border border-white/10 rounded-2xl p-5 text-xl text-white font-black outline-none", placeholder: "Full Name..." }),
                            React.createElement('div', { className: "grid grid-cols-4 gap-3" }, PRESET_COLORS.map(c => (
                                React.createElement('button', { key: c.bg, onClick: () => setNewStaffColor(c.bg), className: `h-14 rounded-2xl transition-all ${c.bg} ${newStaffColor === c.bg ? 'ring-8 ring-white/20 scale-110' : 'opacity-20 hover:opacity-100'}` })
                            ))),
                            React.createElement('button', { onClick: handleAddStaff, className: "w-full bg-blue-600 py-5 rounded-[1.5rem] font-black uppercase text-lg shadow-2xl" }, "Add Member")
                        ),
                        React.createElement('div', { className: "flex-1 overflow-y-auto no-scrollbar space-y-3 pr-2 border-t border-white/5 pt-4" }, Object.values(staff).map(s => (
                            React.createElement('div', { key: s.id, className: "flex items-center justify-between p-5 bg-black border border-white/5 rounded-[2.5rem] shadow-lg" },
                                React.createElement('div', { className: "flex items-center gap-6" },
                                    React.createElement('div', { className: `w-6 h-6 rounded-full ${s.color} shadow-lg shadow-white/5` }),
                                    React.createElement('span', { className: "font-black uppercase text-xl" }, s.name)
                                ),
                                React.createElement('button', { onClick: () => deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'staff', s.id)), className: "text-rose-500 font-black text-sm uppercase px-4 py-2 hover:bg-rose-500/10 rounded-xl" }, "Delete")
                            )
                        )))
                    )
                )
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</head>
<body>
    <div id="root"></div>
</body>
</html>
