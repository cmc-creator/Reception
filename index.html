<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destiny Springs Reception Hub 2026</title>
    <!-- CSS & Frameworks -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono:wght@700&display=swap');
        
        body { 
            background-color: #000000; 
            margin: 0; 
            padding: 0; 
            color: #f8fafc; 
            font-family: 'Inter', sans-serif; 
            overflow: hidden; 
        }

        .glass-panel {
            background: rgba(15, 15, 15, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .drag-over { 
            border: 2px dashed #3b82f6 !important; 
            background: rgba(59, 130, 246, 0.1) !important;
            transform: scale(1.01);
        }

        .draggable-item { cursor: grab; transition: transform 0.1s ease; }
        .draggable-item:active { cursor: grabbing; transform: scale(0.98); }

        .calendar-cell { min-height: 140px; }
        .weekend-bg { background: rgba(20, 20, 20, 0.5); }

        @media print {
            .no-print { display: none !important; }
            body { background-color: white !important; color: black !important; overflow: visible !important; }
            .calendar-grid { border: 1px solid #000 !important; }
        }
    </style>

    <script type="module">
        import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, doc, onSnapshot, setDoc, addDoc, updateDoc, deleteDoc, writeBatch } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCYraZ_M0NknCg6lgdncSpucHfgPOMqBi8",
            authDomain: "reception-calendar-1.firebaseapp.com",
            projectId: "reception-calendar-1",
            storageBucket: "reception-calendar-1.firebasestorage.app",
            messagingSenderId: "613158953901",
            appId: "1:613158953901:web:ed3f0a6cc4cb23f65df724",
            measurementId: "G-5PZMYFEPYW"
        };

        const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = 'destiny-springs-hub';

        const PRESET_COLORS = [
            { bg: 'bg-cyan-500' }, { bg: 'bg-orange-500' }, { bg: 'bg-violet-500' }, 
            { bg: 'bg-rose-500' }, { bg: 'bg-emerald-500' }, { bg: 'bg-amber-500' }, 
            { bg: 'bg-indigo-500' }, { bg: 'bg-slate-500' }
        ];

        const DESK_VIBES = [
            { emoji: 'âš¡', label: 'Energized' }, { emoji: 'ðŸ›¡ï¸', label: 'Safe' },
            { emoji: 'ðŸš€', label: 'Efficient' }, { emoji: 'ðŸŽ§', label: 'Zone' },
            { emoji: 'ðŸ¦', label: 'Slay' }
        ];

        const REPORT_FIELDS = [
            { id: 'mail', label: 'Mail' }, { id: 'property', label: 'Patient Property' },
            { id: 'keys', label: 'Keys/Badges' }, { id: 'supplies', label: 'Supplies' },
            { id: 'visit', label: 'Visitations' }, { id: 'discharge', label: 'Discharges' },
            { id: 'it', label: 'IT Concerns' }, { id: 'aoc', label: 'AOC' },
            { id: 'maint', label: 'Maintenance' }, { id: 'cm', label: 'Case Management' }
        ];

        function App() {
            const [user, setUser] = React.useState(null);
            const [activeTab, setActiveTab] = React.useState('calendar');
            const [currentDate, setCurrentDate] = React.useState(new Date(2026, 1, 1));
            const [selectedDate, setSelectedDate] = React.useState(null);
            
            const [events, setEvents] = React.useState(() => JSON.parse(localStorage.getItem('ds_events')) || {});
            const [staff, setStaff] = React.useState(() => JSON.parse(localStorage.getItem('ds_staff')) || {});
            const [tasks, setTasks] = React.useState(() => JSON.parse(localStorage.getItem('ds_tasks')) || []);
            const [deskStatus, setDeskStatus] = React.useState(() => JSON.parse(localStorage.getItem('ds_vibe')) || { vibe: DESK_VIBES[0], note: '' });
            const [dayNotes, setDayNotes] = React.useState(() => JSON.parse(localStorage.getItem('ds_daynotes')) || {});
            const [reportData, setReportData] = React.useState({});

            const [isStaffModalOpen, setIsStaffModalOpen] = React.useState(false);
            const [editingShift, setEditingShift] = React.useState(null);
            const [newStaffName, setNewStaffName] = React.useState('');
            const [newStaffColor, setNewStaffColor] = React.useState(PRESET_COLORS[0].bg);
            const [newTaskText, setNewTaskText] = React.useState('');
            const [isSaving, setIsSaving] = React.useState(false);

            // Local Mirroring
            React.useEffect(() => {
                localStorage.setItem('ds_events', JSON.stringify(events));
                localStorage.setItem('ds_staff', JSON.stringify(staff));
                localStorage.setItem('ds_tasks', JSON.stringify(tasks));
                localStorage.setItem('ds_vibe', JSON.stringify(deskStatus));
                localStorage.setItem('ds_daynotes', JSON.stringify(dayNotes));
            }, [events, staff, tasks, deskStatus, dayNotes]);

            // Firebase Connection
            React.useEffect(() => {
                signInAnonymously(auth);
                return onAuthStateChanged(auth, setUser);
            }, []);

            React.useEffect(() => {
                if (!user) return;
                const unsubShifts = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'), (snap) => {
                    const data = {};
                    snap.forEach(d => {
                        const s = d.data();
                        if (!data[s.date]) data[s.date] = [];
                        data[s.date].push({ ...s, id: d.id });
                    });
                    setEvents(data);
                });
                const unsubStaff = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'staff'), (snap) => {
                    const list = {};
                    snap.forEach(d => { list[d.id] = { ...d.data(), id: d.id }; });
                    setStaff(list);
                });
                const unsubTasks = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'checklist'), (snap) => {
                    const list = [];
                    snap.forEach(d => { list.push({ ...d.data(), id: d.id }); });
                    setTasks(list);
                });
                const unsubNotes = onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'dayNotes'), (snap) => {
                    const notes = {};
                    snap.forEach(d => { notes[d.id] = d.data().text; });
                    setDayNotes(notes);
                });
                const unsubReport = onSnapshot(doc(db, 'artifacts', appId, 'public', 'data', 'currentReport', 'current'), (snap) => {
                    if (snap.exists()) setReportData(snap.data());
                });
                const unsubStatus = onSnapshot(doc(db, 'artifacts', appId, 'public', 'data', 'deskStatus', 'current'), (snap) => {
                    if (snap.exists()) setDeskStatus(snap.data());
                });
                return () => { unsubShifts(); unsubStaff(); unsubTasks(); unsubNotes(); unsubReport(); unsubStatus(); };
            }, [user]);

            // Database Handlers
            const handleAddStaff = async () => {
                if (!newStaffName.trim()) return;
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'staff'), {
                    name: newStaffName.trim(), color: newStaffColor, createdAt: Date.now()
                });
                setNewStaffName('');
            };

            const handleRestoreFeb = async () => {
                setIsSaving(true);
                const batch = writeBatch(db);
                const baseline = [
                    { name: 'Karen', color: 'bg-cyan-500' }, { name: 'Izzy', color: 'bg-orange-500' },
                    { name: 'Annalissia', color: 'bg-violet-500' }, { name: 'Hal', color: 'bg-rose-500' }
                ];
                const teamIds = {};
                for (const m of baseline) {
                    const existing = Object.values(staff).find(s => s.name === m.name);
                    if (existing) teamIds[m.name] = existing.id;
                    else {
                        const ref = doc(collection(db, 'artifacts', appId, 'public', 'data', 'staff'));
                        batch.set(ref, { ...m, createdAt: Date.now() });
                        teamIds[m.name] = ref.id;
                    }
                }
                for (let d = 1; d <= 28; d++) {
                    const dateKey = `2026-02-${String(d).padStart(2, '0')}`;
                    const dow = new Date(2026, 1, d).getDay();
                    if (dow === 1 || dow === 3) batch.set(doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts')), { date: dateKey, empId: teamIds['Karen'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    else if (dow === 2 || dow === 4 || dow === 5) batch.set(doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts')), { date: dateKey, empId: teamIds['Izzy'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    else if (dow === 0 && d === 1) {
                        batch.set(doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts')), { date: dateKey, empId: teamIds['Hal'], time: '16:00', confirmed: true, createdAt: Date.now() });
                        batch.set(doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts')), { date: dateKey, empId: teamIds['Annalissia'], time: '08:00', confirmed: true, createdAt: Date.now() });
                    } else if (dow === 6 && d === 28) batch.set(doc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts')), { date: dateKey, empId: teamIds['Annalissia'], time: '08:00', confirmed: true, createdAt: Date.now() });
                }
                await batch.commit();
                setIsSaving(false);
            };

            const handleAssignShift = async (date, empId) => {
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'shifts'), {
                    date, empId, time: '08:00', confirmed: true, createdAt: Date.now()
                });
            };

            const handleToggleConfirmed = async (id, current) => {
                await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', id), { confirmed: !current });
                setEditingShift(prev => prev ? {...prev, confirmed: !current} : null);
            };

            // Drag/Drop Logic
            const onDragStart = (e, type, id) => {
                e.dataTransfer.setData("type", type);
                e.dataTransfer.setData("id", id);
            };
            const onDrop = async (e, date) => {
                e.preventDefault();
                e.currentTarget.classList.remove('drag-over');
                const type = e.dataTransfer.getData("type");
                const id = e.dataTransfer.getData("id");
                if (type === 'staff') handleAssignShift(date, id);
                else if (type === 'shift') await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', id), { date });
            };

            const month = currentDate.getMonth();
            const year = currentDate.getFullYear();
            const firstDay = new Date(year, month, 1).getDay();
            const totalDays = new Date(year, month + 1, 0).getDate();

            const cells = [];
            for (let i = 0; i < firstDay; i++) cells.push(React.createElement('div', { key: `p-${i}`, className: "calendar-cell border border-white/5 bg-white/[0.02]" }));
            for (let d = 1; d <= totalDays; d++) {
                const dk = `${year}-${String(month + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
                const dayShifts = events[dk] || [];
                const alert = dayNotes[dk];
                const isWeekend = new Date(year, month, d).getDay() === 0 || new Date(year, month, d).getDay() === 6;

                cells.push(
                    React.createElement('div', {
                        key: d,
                        onDragOver: e => { e.preventDefault(); e.currentTarget.classList.add('drag-over'); },
                        onDragLeave: e => e.currentTarget.classList.remove('drag-over'),
                        onDrop: e => onDrop(e, dk),
                        onClick: () => setSelectedDate(dk),
                        className: `calendar-cell border border-white/10 p-1 relative overflow-y-auto no-scrollbar transition-all hover:bg-white/[0.05] ${selectedDate === dk ? 'ring-2 ring-blue-500 z-10 bg-blue-500/5' : ''} ${isWeekend ? 'weekend-bg' : ''}`
                    },
                        React.createElement('span', { className: `text-xl font-black italic tracking-tighter ${alert ? 'text-rose-500 underline' : 'text-slate-600'}` }, d),
                        alert && React.createElement('div', { className: "text-[10px] font-black text-rose-500 uppercase mt-1 p-1 rounded bg-rose-500/10 border border-rose-500/30" }, alert),
                        React.createElement('div', { className: "mt-1.5 space-y-1" }, dayShifts.map(s => (
                            React.createElement('div', {
                                key: s.id, draggable: true,
                                onDragStart: e => onDragStart(e, 'shift', s.id),
                                onClick: e => { e.stopPropagation(); setEditingShift(s); },
                                className: `draggable-item p-2 rounded shadow-lg text-white font-black flex items-center gap-1.5 transition-all ${staff[s.empId]?.color || 'bg-slate-700'} ${s.confirmed === false ? 'opacity-30 grayscale scale-95 border border-white/30 border-dashed' : 'border border-white/10'}`
                            },
                                s.confirmed === false && React.createElement('span', { className: "text-lg" }, "?"),
                                React.createElement('span', { className: "text-[14px] truncate flex-1 uppercase tracking-tighter" }, staff[s.empId]?.name || '...'),
                                React.createElement('span', { className: "text-[10px] opacity-70" }, s.time)
                            )
                        )))
                    )
                );
            }

            if (!user) return React.createElement('div', { className: "h-screen bg-black flex items-center justify-center text-blue-500 font-black tracking-widest animate-pulse" }, "INITIALIZING SYSTEM...");

            return React.createElement('div', { className: "h-screen flex flex-col md:flex-row overflow-hidden bg-black text-slate-100" },
                
                // NAV BAR
                React.createElement('div', { className: "w-20 border-r border-white/10 flex flex-col items-center py-8 gap-10 bg-black no-print" },
                    React.createElement('div', { className: "text-blue-500 font-black text-3xl italic tracking-tighter" }, "DS"),
                    React.createElement('button', { onClick: () => setActiveTab('calendar'), className: `p-4 rounded-2xl transition-all ${activeTab === 'calendar' ? 'bg-blue-600 shadow-[0_0_20px_rgba(59,130,246,0.5)]' : 'hover:bg-white/10'}` }, "ðŸ“…"),
                    React.createElement('button', { onClick: () => setActiveTab('report'), className: `p-4 rounded-2xl transition-all ${activeTab === 'report' ? 'bg-blue-600 shadow-[0_0_20px_rgba(59,130,246,0.5)]' : 'hover:bg-white/10'}` }, "ðŸ“‹"),
                    React.createElement('button', { onClick: () => setIsStaffModalOpen(true), className: "p-4 rounded-2xl hover:bg-white/10 text-2xl" }, "ðŸ‘¥"),
                    React.createElement('div', { className: "mt-auto flex flex-col gap-4 items-center" },
                        isSaving && React.createElement('div', { className: "w-2 h-2 bg-emerald-500 rounded-full animate-ping" }),
                        React.createElement('div', { className: "opacity-20 text-[10px] font-bold uppercase rotate-90" }, "Secure")
                    )
                ),

                activeTab === 'calendar' ? 
                React.createElement('div', { className: "flex-1 flex overflow-hidden" },
                    // SIDE PANEL
                    React.createElement('div', { className: "w-80 border-r border-white/10 p-6 overflow-y-auto no-scrollbar bg-white/[0.02] no-print" },
                        React.createElement('header', { className: "mb-8" },
                            React.createElement('h1', { className: "text-2xl font-black tracking-tighter italic" }, "TEAM HUB"),
                            React.createElement('p', { className: "text-[9px] text-slate-500 uppercase tracking-widest mt-1 font-bold" }, "Reception Intelligence Suite")
                        ),
                        
                        React.createElement('section', { className: "mb-8 p-5 rounded-[2rem] border border-white/10 bg-white/[0.03]" },
                            React.createElement('h2', { className: "text-[10px] font-black text-slate-500 mb-3 uppercase tracking-widest" }, "Shift Vibe"),
                            React.createElement('div', { className: "flex flex-wrap gap-2 mb-4" }, DESK_VIBES.map(v => (
                                React.createElement('button', { key: v.label, onClick: () => setDoc(doc(db, 'artifacts', appId, 'public', 'data', 'deskStatus', 'current'), { vibe: v, note: deskStatus.note }), className: `p-2.5 rounded-xl text-2xl transition-all ${deskStatus.vibe?.label === v.label ? 'bg-blue-600 shadow-lg ring-2 ring-blue-400/30' : 'bg-white/5'}` }, v.emoji)
                            ))),
                            React.createElement('textarea', { value: deskStatus.note || '', onChange: e => setDoc(doc(db, 'artifacts', appId, 'public', 'data', 'deskStatus', 'current'), { vibe: deskStatus.vibe, note: e.target.value }), className: "w-full bg-black/50 border border-white/5 rounded-xl p-3 text-xs outline-none text-blue-200 h-20 resize-none", placeholder: "General shift notes..." })
                        ),

                        React.createElement('section', { className: "mb-8" },
                            React.createElement('h2', { className: "text-[10px] font-black text-slate-500 mb-4 uppercase tracking-widest" }, "Shared Tasks"),
                            React.createElement('form', { onSubmit: async e => { e.preventDefault(); if(newTaskText.trim()) { await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'checklist'), { text: newTaskText.trim(), completed: false, createdAt: Date.now() }); setNewTaskText(''); } }, className: "flex gap-2 mb-4" },
                                React.createElement('input', { value: newTaskText, onChange: e => setNewTaskText(e.target.value), className: "flex-1 bg-white/5 rounded-xl p-3 text-xs outline-none border border-white/10", placeholder: "New task..." }),
                                React.createElement('button', { type: "submit", className: "bg-blue-600 px-4 rounded-xl font-black" }, "+")
                            ),
                            React.createElement('div', { className: "space-y-1.5 max-h-40 overflow-y-auto no-scrollbar" }, tasks.map(t => (
                                React.createElement('div', { key: t.id, className: "flex items-center justify-between p-2.5 hover:bg-white/5 rounded-xl group transition-all" },
                                    React.createElement('div', { onClick: () => updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'checklist', t.id), { completed: !t.completed }), className: "flex items-center gap-3 cursor-pointer flex-1" },
                                        React.createElement('div', { className: `w-5 h-5 rounded border-2 flex items-center justify-center ${t.completed ? 'bg-emerald-600 border-emerald-600' : 'border-slate-700'}` }, t.completed && "âœ“"),
                                        React.createElement('span', { className: `text-[11px] font-bold ${t.completed ? 'line-through opacity-30' : ''}` }, t.text)
                                    ),
                                    React.createElement('button', { onClick: () => deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'checklist', t.id)), className: "opacity-0 group-hover:opacity-100 text-rose-500 px-2" }, "Ã—")
                                )
                            )))
                        ),

                        React.createElement('section', { className: "mb-8" },
                            React.createElement('h2', { className: "text-[10px] font-black text-slate-500 mb-4 uppercase tracking-widest italic" }, "Team (Drag Name)"),
                            React.createElement('div', { className: "flex flex-wrap gap-2" }, Object.values(staff).map(s => (
                                React.createElement('div', { key: s.id, draggable: true, onDragStart: e => onDragStart(e, 'staff', s.id), className: `draggable-item px-4 py-2 rounded-xl text-[14px] font-black text-white shadow-xl ${s.color}` }, s.name.toUpperCase())
                            )))
                        ),

                        selectedDate && React.createElement('div', { className: "animate-fade-in p-5 rounded-3xl bg-rose-900/20 border border-rose-500/30" },
                            React.createElement('label', { className: "text-[11px] font-black text-rose-500 uppercase mb-2 block tracking-widest" }, "IMPORTANT ALERT"),
                            React.createElement('textarea', { value: dayNotes[selectedDate] || '', onChange: e => setDoc(doc(db, 'artifacts', appId, 'public', 'data', 'dayNotes', selectedDate), { text: e.target.value }), className: "w-full bg-black/50 border border-white/10 rounded-xl p-3 text-sm text-rose-400 font-bold h-20 outline-none resize-none", placeholder: "eg: Needs Coverage" })
                        )
                    ),

                    // CALENDAR GRID
                    React.createElement('div', { className: "flex-1 p-10 overflow-y-auto no-scrollbar" },
                        React.createElement('div', { className: "flex justify-between items-center mb-10 no-print" },
                            React.createElement('h2', { className: "text-6xl font-black tracking-tighter uppercase italic text-white" }, currentDate.toLocaleDateString(undefined, { month: 'long', year: 'numeric' })),
                            React.createElement('div', { className: "flex gap-4" },
                                React.createElement('div', { className: "flex bg-white/5 p-1.5 rounded-2xl border border-white/10" },
                                    React.createElement('button', { onClick: () => setCurrentDate(new Date(year, month-1, 1)), className: "p-3 hover:bg-white/10 rounded-xl" }, "â—€"),
                                    React.createElement('button', { onClick: () => setCurrentDate(new Date(year, month+1, 1)), className: "p-3 hover:bg-white/10 rounded-xl" }, "â–¶")
                                ),
                                React.createElement('button', { onClick: () => window.print(), className: "bg-white text-black px-10 py-3 rounded-2xl font-black uppercase text-sm shadow-2xl hover:bg-blue-600 hover:text-white transition-all" }, "Print")
                            )
                        ),
                        React.createElement('div', { className: "grid grid-cols-7 border border-white/10 rounded-[4rem] overflow-hidden shadow-2xl calendar-grid" },
                            ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (
                                React.createElement('div', { key: day, className: "py-8 text-center text-[12px] font-black text-slate-500 uppercase tracking-widest border-b border-white/10 bg-white/[0.02]" }, day)
                            )),
                            cells
                        )
                    )
                ) : 
                // SHIFT REPORT
                React.createElement('div', { className: "flex-1 p-16 overflow-y-auto bg-black no-scrollbar" },
                    React.createElement('div', { className: "max-w-5xl mx-auto space-y-12" },
                        React.createElement('header', { className: "border-b-2 border-white/10 pb-10" },
                            React.createElement('h2', { className: "text-7xl font-black text-blue-500 italic tracking-tighter" }, "SHIFT REPORT"),
                            React.createElement('p', { className: "text-slate-500 text-lg font-bold uppercase tracking-[0.4em] mt-4" }, "Healthcare Handover Log")
                        ),
                        React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-10" }, 
                            REPORT_FIELDS.map(f => (
                                React.createElement('div', { key: f.id, className: "space-y-4" },
                                    React.createElement('label', { className: "text-[14px] font-black text-slate-400 uppercase tracking-widest" }, f.label),
                                    React.createElement('textarea', { 
                                        value: String(reportData[f.id] || ''), 
                                        onChange: e => updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'currentReport', 'current'), { [f.id]: e.target.value }), 
                                        className: "w-full bg-white/[0.03] border border-white/10 rounded-[2.5rem] p-8 text-lg h-56 focus:border-blue-500 outline-none transition-all resize-none shadow-inner", 
                                        placeholder: `Details for ${f.label}...` 
                                    })
                                )
                            ))
                        )
                    )
                ),

                // EDIT SHIFT MODAL
                editingShift && React.createElement('div', { className: "fixed inset-0 bg-black/95 backdrop-blur-2xl z-[300] flex items-center justify-center p-4" },
                    React.createElement('div', { className: "bg-zinc-900 border border-white/10 p-12 rounded-[5rem] w-full max-w-lg shadow-2xl animate-fade-in" },
                        React.createElement('h3', { className: "text-3xl font-black uppercase text-white mb-10 italic tracking-tighter text-center" }, staff[editingShift.empId]?.name + "'s Shift"),
                        React.createElement('div', { className: "space-y-10" },
                            React.createElement('div', { className: "p-8 bg-white/5 rounded-[3rem] border border-white/5" },
                                React.createElement('p', { className: "text-[12px] font-black text-slate-500 uppercase mb-6 text-center tracking-widest" }, "Shift Status"),
                                React.createElement('button', { 
                                    onClick: () => handleToggleConfirmed(editingShift.id, editingShift.confirmed !== false),
                                    className: `w-full py-6 rounded-3xl font-black text-xl uppercase tracking-widest transition-all ${editingShift.confirmed !== false ? 'bg-emerald-600 text-white' : 'bg-rose-600 text-white animate-pulse'}`
                                }, editingShift.confirmed !== false ? 'Confirmed âœ“' : 'UNCONFIRMED ?')
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: "text-[12px] font-black text-slate-500 uppercase mb-3 block" }, "Update Start Time"),
                                React.createElement('input', { type: "time", value: editingShift.time, onChange: e => setEditingShift({...editingShift, time: e.target.value}), className: "w-full bg-black border border-white/10 rounded-3xl p-6 text-4xl text-white font-black" })
                            ),
                            React.createElement('div', { className: "flex gap-6" },
                                React.createElement('button', { onClick: () => { updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', editingShift.id), { time: editingShift.time }); setEditingShift(null); }, className: "flex-1 bg-blue-600 py-6 rounded-[2rem] font-black uppercase text-xl shadow-2xl" }, "Save"),
                                React.createElement('button', { onClick: () => { deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'shifts', editingShift.id)); setEditingShift(null); }, className: "bg-rose-600 px-10 py-6 rounded-[2rem] font-black text-2xl" }, "ðŸ—‘")
                            ),
                            React.createElement('button', { onClick: () => setEditingShift(null), className: "w-full text-slate-600 font-bold uppercase text-xs pt-4" }, "Close Editor")
                        )
                    )
                ),

                // TEAM MODAL
                isStaffModalOpen && React.createElement('div', { className: "fixed inset-0 bg-black/95 backdrop-blur-2xl z-[300] flex items-center justify-center p-4" },
                    React.createElement('div', { className: "bg-zinc-900 border border-white/10 p-12 rounded-[5rem] w-full max-w-xl max-h-[85vh] flex flex-col shadow-2xl animate-fade-in" },
                        React.createElement('div', { className: "flex justify-between items-center mb-8" },
                            React.createElement('h3', { className: "text-4xl font-black uppercase italic tracking-tighter" }, "Team Setup"),
                            React.createElement('button', { onClick: () => setIsStaffModalOpen(false), className: "text-slate-500 text-6xl font-light hover:text-white" }, "Ã—")
                        ),
                        React.createElement('button', { onClick: handleRestoreFeb, className: "w-full bg-emerald-600/10 text-emerald-400 py-5 rounded-[2.5rem] border border-emerald-600/30 font-black text-xs uppercase mb-10" }, "RESTORE FEBRUARY SCHEDULE (KAREN/IZZY/HAL/ANNALISSIA)"),
                        React.createElement('div', { className: "space-y-6 mb-10" },
                            React.createElement('input', { value: newStaffName, onChange: e => setNewStaffName(e.target.value), className: "w-full bg-black border border-white/10 rounded-3xl p-6 text-2xl text-white font-black outline-none", placeholder: "Enter Full Name..." }),
                            React.createElement('div', { className: "grid grid-cols-4 gap-4" }, PRESET_COLORS.map(c => (
                                React.createElement('button', { key: c.bg, onClick: () => setNewStaffColor(c.bg), className: `h-16 rounded-2xl transition-all ${c.bg} ${newStaffColor === c.bg ? 'ring-8 ring-white/20 scale-110' : 'opacity-20 hover:opacity-100'}` })
                            ))),
                            React.createElement('button', { onClick: handleAddStaff, className: "w-full bg-blue-600 py-6 rounded-[2.5rem] font-black uppercase text-xl shadow-2xl hover:bg-blue-500" }, "Add Member")
                        ),
                        React.createElement('div', { className: "flex-1 overflow-y-auto no-scrollbar space-y-4 pr-2" }, Object.values(staff).map(s => (
                            React.createElement('div', { key: s.id, className: "flex items-center justify-between p-6 bg-black/40 rounded-[3rem] border border-white/5 shadow-inner" },
                                React.createElement('div', { className: "flex items-center gap-6" },
                                    React.createElement('div', { className: `w-6 h-6 rounded-full ${s.color} shadow-lg shadow-white/5` }),
                                    React.createElement('span', { className: "font-black uppercase text-2xl" }, s.name)
                                ),
                                React.createElement('button', { onClick: () => deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'staff', s.id)), className: "text-rose-500 font-black text-sm uppercase px-6 py-2 hover:bg-rose-500/10 rounded-2xl" }, "Delete")
                            )
                        )))
                    )
                )
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</head>
<body>
    <div id="root"></div>
</body>
</html>
